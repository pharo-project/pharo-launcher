I'm responsible for displaying a toolbar from a list of commands (instances of PhLCommand). For each command, I create a dedicated button.

Each time the context changes (i.e., the user selects something different), please send me the message #context: with the new context as parameter. I will take care of updating each of my buttons.